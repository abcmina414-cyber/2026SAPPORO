<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æµ·é“å…«å¤©ä¸ƒå¤œä¹‹æ—… - è¡Œç¨‹</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¼‰å…¥ Google Fonts: Zen Maru Gothic (å¯æ„›åœ“é«”) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        /* ä½¿ç”¨ Zen Maru Gothic ä½œç‚ºä¸»è¦å­—é«” */
        :root {
            --primary-color: #89CFF0;
            /* Hachiware Blue */
            --secondary-color: #FFB7C5;
            /* Chiikawa Pink */
            --accent-color: #FFFACD;
            /* Usagi Yellow */
            --bg-color: #FFF5F7;
            /* Very light pink background */
            --card-color: #ffffff;
            --text-color: #4B5563;
        }

        body {
            font-family: 'Zen Maru Gothic', 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#FFB7C5 15%, transparent 16%), radial-gradient(#89CFF0 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
        }

        /* å¤©æ•¸åˆ‡æ› Tab æ¨£å¼ */
        .day-tab {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            @apply px-4 py-2 text-sm md:text-base font-semibold rounded-full shadow-md whitespace-nowrap;
        }

        .day-tab.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 6px -1px rgba(137, 207, 240, 0.4), 0 2px 4px -2px rgba(137, 207, 240, 0.4);
        }

        .day-tab:not(.active):hover {
            @apply bg-pink-100 text-pink-600;
        }

        /* è³‡è¨Šåˆ‡æ› Tab æ¨£å¼ (æ¸…å–®/é£¯åº—) */
        .info-tab {
            @apply flex items-center;
        }

        .active-info-tab {
            background-color: #FEF3C7;
            /* Yellow 100 */
            color: #B45309;
            /* Amber 800 */
            border: 2px solid #FCD34D;
            /* Yellow 300 */
        }

        .inactive-info-tab {
            color: #6b7280;
            /* Gray 500 */
            background-color: transparent;
        }

        /* å‚ç›´æ™‚é–“è»¸æ¨£å¼ */
        .timeline-item {
            position: relative;
            padding-left: 2.5rem;
            /* 40px */
            padding-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            /* 8px */
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #d1d5db;
            /* Gray 300 */
        }

        .timeline-item:last-child::before {
            height: 1.5rem;
            /* è®“æœ€å¾Œä¸€å€‹é»ä¹‹å¾Œçš„ç·šæ®µè®ŠçŸ­ */
        }

        .timeline-dot {
            position: absolute;
            left: 0;
            top: 0;
            width: 1.2rem;
            /* 16px */
            height: 1.2rem;
            background-color: var(--primary-color);
            border-radius: 50%;
            border: 3px solid white;
            z-index: 10;
            box-shadow: 0 0 0 3px var(--primary-color);
        }

        .timeline-dot.last-dot {
            background-color: #9CA3AF;
            box-shadow: 0 0 0 3px #9CA3AF;
        }

        /* å‰ä¼Šå¡å“‡æ¼‚æµ®è£é£¾ */
        .chiikawa-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
            animation: float 3s ease-in-out infinite;
            background: white;
            padding: 10px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--secondary-color);
            display: flex;
            gap: 5px;
            font-size: 24px;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.3s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }

        .chiikawa-float.show {
            opacity: 1;
            pointer-events: auto;
        }

        .chiikawa-float:hover {
            transform: scale(1.1);
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }
    </style>
</head>

<body class="p-0 m-0">

    <!-- å‰ä¼Šå¡å“‡æ¼‚æµ®å…ƒç´  -->
    <div id="backToTopBtn" class="chiikawa-float" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });"
        title="å›åˆ°é ‚éƒ¨">
        <span>â†‘â†‘</span>
        <span>å›é ‚éƒ¨</span>
        <span>â†‘â†‘â†‘</span>
    </div>

    <div id="app" class="min-h-screen bg-transparent flex justify-center">
        <div class="w-full max-w-2xl bg-white/90 backdrop-blur-sm shadow-xl border-x border-white">

            <!-- æ¨™é¡Œå€å¡Š -->
            <header
                class="bg-gradient-to-r from-blue-400 to-pink-300 text-white p-6 rounded-b-3xl shadow-lg relative overflow-hidden">
                <div
                    class="absolute top-0 right-0 opacity-20 transform rotate-12 translate-x-4 -translate-y-2 text-6xl">
                    â„ï¸</div>
                <h1 class="text-3xl font-bold tracking-tight drop-shadow-md">åŒ—æµ·é“â„ï¸å…«å¤©ä¸ƒå¤œ</h1>
                <p class="text-white/90 mt-1 text-sm font-medium">2026/03/05 (å››) - 03/12 (å››)</p>
            </header>

            <!-- æ‘ºç–Šå¼ï¼šæ¸…å–®èˆ‡é£¯åº—è³‡è¨Šå€å¡Š -->
            <section class="bg-white p-4 pt-3 border-b border-gray-200">
                <div class="flex space-x-4 mb-3 justify-center">
                    <!-- é è¨­ 'checklist' Tab ç‚º active styleï¼Œä½†é¢æ¿ä¿æŒé—œé–‰ -->
                    <button id="tab-checklist"
                        class="info-tab px-4 py-1 text-sm font-medium rounded-full transition duration-150 active-info-tab"
                        onclick="toggleInfoTab('checklist')">
                        æ”œå¸¶æ¸…å–® <span id="chevron-checklist"
                            class="ml-1 inline-block transition-transform duration-300 transform rotate-180">â–¼</span>
                    </button>
                    <button id="tab-hotels"
                        class="info-tab px-4 py-1 text-sm font-medium rounded-full transition duration-150 inactive-info-tab"
                        onclick="toggleInfoTab('hotels')">
                        é£¯åº—è³‡è¨Š <span id="chevron-hotels"
                            class="ml-1 inline-block transition-transform duration-300 transform rotate-180">â–¼</span>
                    </button>
                    <button id="tab-tips"
                        class="info-tab px-4 py-1 text-sm font-medium rounded-full transition duration-150 inactive-info-tab"
                        onclick="toggleInfoTab('tips')">
                        é‡è¦æé†’ <span id="chevron-tips"
                            class="ml-1 inline-block transition-transform duration-300 transform rotate-180">â–¼</span>
                    </button>
                </div>

                <!-- Collapsible Content Area - max-h-0 ç¢ºä¿é è¨­æ˜¯é—œé–‰çš„ -->
                <div id="info-panel" class="overflow-hidden transition-all duration-500 ease-in-out max-h-0">
                    <div id="checklist-content" class="info-content space-y-2 pt-2">
                        <!-- Checklist content will be rendered here -->
                    </div>

                    <div id="hotels-content" class="info-content hidden space-y-4 pt-2">
                        <!-- Hotel info will be rendered here -->
                    </div>

                    <div id="tips-content" class="info-content hidden space-y-4 pt-2">
                        <!-- Tips info will be rendered here -->
                    </div>
                </div>
            </section>

            <!-- å¤©æ•¸åˆ‡æ›æŒ‰éˆ•é¸å–® (æ°´å¹³æ»¾å‹•, æ–¹ä¾¿æ‰‹æ©Ÿæ“ä½œ) -->
            <nav class="sticky top-0 z-20 bg-white shadow-md p-3 overflow-x-auto">
                <div id="day-tabs" class="flex space-x-3">
                    <!-- JavaScript æœƒåœ¨æ­¤è™•ç”ŸæˆæŒ‰éˆ• -->
                </div>
            </nav>

            <!-- è¡Œç¨‹å…§å®¹å€å¡Š -->
            <main class="p-5 pb-24">
                <div class="mb-6">
                    <h2 id="current-day-title" class="text-2xl font-extrabold text-gray-800 mb-1"></h2>
                    <p id="current-day-date" class="text-sm text-gray-500"></p>
                </div>

                <div id="itinerary-content" class="space-y-4">
                    <!-- è¡Œç¨‹æ™‚é–“è»¸æœƒåœ¨æ­¤è™•æ¸²æŸ“ -->
                </div>
            </main>

        </div>
    </div>

    <script>
        // ------------------------
        // æ•¸æ“š
        // ------------------------
        const checklistData = [
            "è­·ç…§åŠæ©Ÿç¥¨",
            "ç¾é‡‘ (æ—¥å¹£ è‡³å°‘11è¬/äºº)",
            "æ³³è¡£åŠæµ·ç˜åŒ… (ç”¨æ–¼ Mina-Mina Beach)",
            "ä¿æš–ç”¨å“ (æš–æš–åŒ…ã€å£é¼»/æ‰‹éƒ¨ä¿æš–)",
            "é›ªåœ°å¢¨é¡ (é¿å…é›ªç›²)",
            "æ­¢æ»‘é˜²æ°´é‹/é›ªé´",
            "æ—…å¹³éšª/ç¶²è·¯å¡",
            "æ»‘é›ªè£å‚™ (è‹¥æœ‰è‡ªå‚™)",
        ];

        const hotelData = [
            {
                name: "ãƒ›ãƒ†ãƒ«ãƒªã‚½ãƒ« ãƒˆãƒªãƒ‹ãƒ†ã‚£æœ­å¹Œ (Resolution Trinity Sapporo)",
                dates: "3/5 - 3/7 (2æ™š)",
                location: "ã€’060-0042 åŒ—æµ·é“æœ­å¹Œå¸‚ä¸­å¤®åŒºå¤§é€šè¥¿ï¼•ä¸ç›®ï¼“ ãƒ›ãƒ†ãƒ« ãƒˆãƒªãƒ‹ãƒ†ã‚£æœ­å¹Œ 1F",
                mapLink: "https://www.google.com/maps/search/?api=1&query=Hotel+Resol+Trinity+Sapporo"
            },
            {
                name: "ç™»åˆ¥ã¾ã»ã‚ã° (Noboribetsu Manseikaku)",
                dates: "3/7 - 3/9 (2æ™š)",
                location: "ã€’059-0551 åŒ—æµ·é“ç™»åˆ¥å¸‚ç™»åˆ¥æ¸©æ³‰ç”ºï¼–ï¼•",
                mapLink: "https://www.google.com/maps/search/?api=1&query=Hotel+Mahoroba+Noboribetsu"
            },
            {
                name: "æ˜Ÿé‡TOMAMUæ¸¡å‡æ‘ (Hoshino Resorts TOMAMU)",
                dates: "3/9 - 3/12 (3æ™š)",
                location: "Nakatomamu, Shimukappu, Yufutsu District, Hokkaido 079-2204æ—¥æœ¬",
                mapLink: "https://www.google.com/maps/search/?api=1&query=Hoshino+Resorts+RISONARE+Tomamu"
            }
        ];

        const itineraryData = [
            {
                day: 1,
                date: "3/5 (å››)",
                title: "æœ­å¹Œå¸‚å€ï¼šå¤§é€šå…¬åœ’é›»è¦–å¡”ã€ç‹¸å°è·¯å•†åº—è¡—",
                items: [
                    { time: "09:30", activity: "é•·æ¦®èˆªç©ºå‡ºç™¼ (ç¬¬äºŒèˆªå»ˆ)", notes: "ç™»æ©Ÿå‰æ”¶å…¬è²»ï¼Œå¡«å¯«VJWã€‚" },
                    { time: "14:05", activity: "æŠµé”æ–°åƒæ­²æ©Ÿå ´", notes: "é è¨ˆ 14:35 å‡ºé—œã€‚æ­ä¹˜å·´å£« (åœ‹å…§ç·š 22 è™Ÿä¹˜è»Šè™•) å‰å¾€æœ­å¹Œå¸‚å€ã€‚" },
                    { time: "16:00", activity: "æŠµé”é£¯åº— (Resolution Trinity Sapporo)", notes: "æ”œå¸¶åšå¤–å¥—ã€è³¼ç‰©è¢‹" },
                    { time: "16:20", activity: "BISSE SWEETS (KINOTOYA)", notes: "å“åšæ°´æœè›‹ç³•ã€èµ·å¸å¡”ã€å†°æ·‡æ·‹ã€‚äººå¤šå¯è€ƒæ…®æ”¾æ£„ã€‚" },
                    { time: "16:40", activity: "æœ­å¹Œå¸‚æ™‚è¨ˆå°", notes: "ç‡Ÿæ¥­åˆ°17æ™‚ã€‚ä¾†ä¸åŠå¯å¤–è§€æ‰“å¡å°±å¥½ï¼Œ$350å††/äººã€‚" },
                    { time: "16:50", activity: "æœ­å¹Œé›»è¦–å¡” å±•æœ›å°", notes: "æ—¥è½ç´„ 17:30ã€‚èˆ‡æ™‚è¨ˆå°æœ‰å…±é€šå…¥å ´åˆ¸ $1200å††ã€‚" },
                    { time: "18:00", activity: "ã©ã‚“ãã‚Š å¤§é€šåº—", notes: "è³¼è²·éš”æ—¥æ—©é¤éºµåŒ…ã€‚" },
                    { time: "18:30", activity: "æ™šé¤ï¼šç‰›ã—ã‚ƒã¶ç‰›ã™ãç¦…", notes: "é»‘æ¯›å’Œç‰›æˆ–åœ‹ç”¢ç‰›åƒåˆ°é£½/å–®é»ã€‚4800å††ã€‚å¯é¸å£½å–œç‡’/æ¶®æ¶®é‹ (+$300å††)ã€‚è¨˜å¾—é ç´„ï¼" },
                    { time: "20:00", activity: "ç‹¸å°è·¯å•†åº—è¡—é€›è¡—", notes: "å”å‰è¨¶å¾· (24H)ã€æœ­å¹Œè—¥å¦ (~23:00)ã€‚ä¸æƒ³é€›è¡—å¯èµ°åœ°ä¸‹é“å›é£¯åº— (7åˆ†)ã€‚" },
                ]
            },
            {
                day: 2,
                date: "3/6 (äº”)",
                title: "æœ­å¹Œå¸‚å€ï¼šç™½è‰²æˆ€äººå…¬åœ’ã€å††å±±å‹•ç‰©åœ’ã€åŒ—æµ·é“ç¥å®®",
                items: [
                    { time: "09:30", activity: "å‡ºç™¼å‰å¾€ç™½è‰²æˆ€äººå…¬åœ’", notes: "æ­è»Šè‡³å®®ã®æ²¢ç«™ (8ç«™/16åˆ†)ï¼Œ2è™Ÿå‡ºå£æ­¥è¡Œ 7 åˆ†ã€‚" },
                    { time: "10:00", activity: "ç™½è‰²æˆ€äººå…¬åœ’", notes: "åœ˜é«”ç¥¨500å††ã€‚è£½ä½œéµç›’ (30åˆ†å¾Œé ˜å–, $1320å††èµ·)ã€‚å¯é€›åœ’å€éºµåŒ…åº—ã€‚" },
                    { time: "11:00", activity: "åˆé¤æ™‚é–“", notes: "åœ’å€å…§åœ°ä¸‹é¤å»³æ‹›ç‰Œæ¹¯å’–å“© è§£è†©èŒ¶æ‹‰è¥¿ (ãƒ©ãƒƒã‚·ãƒ¼)ã€‚" },
                    { time: "13:30", activity: "å††å±±å‹•ç‰©åœ’", notes: "é–€ç¥¨ $800å††ã€‚ç‡Ÿæ¥­è‡³ 16:30ã€‚å¾å…¬åœ’æ­è¨ˆç¨‹è»Šç´„ 16 åˆ†ã€‚" },
                    { time: "16:00", activity: "åŒ—æµ·é“ç¥å®®", notes: "å¯å“åšç¥å®®èŒ¶å±‹ç¦ãƒ¬é¤…(å£“æ‰çš„éº»ç³¬ç´…è±†é¤…)ï¼Œå…­èŠ±äº­åˆ¤å®˜ã•ã¾(ç´…è±†éº»ç³¬æ²’å£“æ‰ç‰ˆ)ã€‚ç‡Ÿæ¥­è‡³ 17:00ã€‚" },
                    { time: "17:30", activity: "æ™šé¤ï¼šå¡©ãƒ›ãƒ«ãƒ¢ãƒ³ 712 å¤§é€šã‚Šæœ¬åº—", notes: "æ—¥å¼çƒ¤è‚‰ (ç‰›/ç¾Š/è±¬)ã€‚æ¨è–¦ ã›ã‚“ã¹ã‚å¥—é¤ã€‚è¨˜å¾—é ç´„ï¼" },
                    { time: "20:30", activity: "é€›è¡—", notes: "ä¸é€›çš„äººå›é£¯åº—èµ°3åˆ†é˜ã€‚ä¸‰è¶Šç™¾è²¨ UNIQLOã€PARCO B2 å‰ä¼Šå¡å“‡ (20:00 é—œé–€)ã€ã‚¸ãƒ¥ãƒ³ã‚¯å ‚æ›¸åº— (21:00 é—œé–€)ã€å”å‰è¨¶å¾· (24H)ã€‚" },
                ]
            },
            {
                day: 3,
                date: "3/7 (å…­)",
                title: "åŒ—æµ·é“å¤§å­¸ã€ç™»åˆ¥åœ°ç„è°·",
                items: [
                    { time: "09:30", activity: "é€€æˆ¿å¯„è¡Œæ", notes: "æ­è»Šå…©ç«™4åˆ†é˜åˆ°åŒ—åäºŒæ¢+æ­¥è¡Œ10åˆ†ï¼Œç¸½è·¯ç¨‹ç´„20åˆ†é˜ã€‚" },
                    { time: "10:00", activity: "åŒ—å¤§ Marche CafÃ© & Labo", notes: "æ¨åƒå±¤éºµ (ãƒ©ã‚¶ãƒ‹ã‚¢)ã€å†°æ·‡æ·‹ã€å¸ƒä¸ã€å’–å•¡æ‹¿éµã€‚ç”¨é¤æ§åˆ¶åœ¨ä¸€å°æ™‚å…§ã€‚" },
                    { time: "11:00", activity: "åŒ—æµ·é“å¤§å­¸åšç‰©é¤¨", notes: "12:45 å‰é›¢é–‹å›é£¯åº—ã€‚" },
                    { time: "13:10", activity: "å›é£¯åº—æ‹¿è¡Œæï¼Œå‰å¾€æœ­å¹Œé§…å‰å·´å£«ç«™", notes: "å¾8è™Ÿå‡ºå£åé›»æ¢¯åˆ°åœ°ä¸‹é“ï¼Œèµ°10åˆ†-15åˆ†ï¼Œæœ­å¹Œé§…å‰ï¼—ç•ªã®ã‚Šã° (æ—¥æœ¬ç”Ÿå‘½æœ­å¹Œãƒ“ãƒ«å‰)ã€‚" },
                    { time: "13:40", activity: "æ­ä¹˜é«˜é€ŸãŠã‚“ã›ã‚“å·", notes: "å¾€ç™»åˆ¥æº«æ³‰ä¸­å¤®ã€‚è»Šç¨‹ç´„ 2 å°æ™‚ï¼Œç¥¨åƒ¹ $2500å††ã€‚é ˆä¸€å€‹æœˆå‰é ç´„ã€‚" },
                    { time: "15:20", activity: "æŠµé”ç™»åˆ¥ã¾ã»ã‚ã°", notes: "æ”¾å®Œè¡Œæé¦¬ä¸Šå»åœ°ç„è°·ã€‚éŠå®¢ä¸­å¿ƒå¯ç§Ÿå€Ÿé•·é´ã€‚å•†åº—è¡—æ¨è–¦é“ç”£å­ã·ã‚Šã‚“ã€è±†è…åœ˜å­ã€‚" },
                    { time: "17:00", activity: "å›é£¯åº—æ³¡æ¹¯", notes: "B2 éœ²å¤©æ± å¥³æ¹¯æ¯”è¼ƒå²å®³ã€‚æ—©ä¸Š 04:00~10:00 æœƒç”·å¥³æ¹¯äº¤æ›ã€‚" },
                    { time: "18:30", activity: "æ™šé¤", notes: "äº«ç”¨é£¯åº—å…§è±ç››æ™šé¤ã€‚" },
                ]
            },
            {
                day: 4,
                date: "3/8 (æ—¥)",
                title: "ç™»åˆ¥ä¼Šé”æ™‚ä»£æ‘ã€ç™»åˆ¥å°¼å…‹æ–¯æµ·æ´‹å…¬åœ’",
                items: [
                    { time: "07:30", activity: "æ—©é¤", notes: "äº«ç”¨é£¯åº—æ—©é¤ã€‚" },
                    { time: "09:00", activity: "ç™»åˆ¥ä¼Šé”æ™‚ä»£æ‘", notes: "è¨ˆç¨‹è»Š10åˆ†é˜æŠµé”ã€‚åœ˜é«”ç¥¨ $3000å††ã€‚è§€è³å¿è€…ç§€ (09:40)ã€èŠ±é­ç§€ (10:15)ã€ä¾ç§€ (11:40)ã€‚å¯é«”é©—æ‰‹è£¡åŠ/å¼“ç®­ ($500å††)ã€‚" },
            
                    { time: "13:00", activity: "ç™»åˆ¥å°¼å…‹æ–¯æµ·æ´‹å…¬åœ’", notes: "è¨ˆç¨‹è»Š8åˆ†é˜æŠµé”ã€‚åœ˜é«”ç¥¨ $2700å††ã€‚åœ’å…§ç°¡å–®åƒåˆé¤ã€‚åƒè§€åŸå ¡å¾Œï¼Œè§€çœ‹ä¼éµ (14:15)ã€æµ·è±š (14:45)ã€æ²™ä¸é­š (15:10)ã€æµ·è±¹ç§€ (15:30)ã€‚" },
                    { time: "16:30", activity: "å›é£¯åº—æ³¡æ¹¯", notes: "è¨ˆç¨‹è»Š10åˆ†é˜" },
                    { time: "18:30", activity: "æ™šé¤", notes: "äº«ç”¨é£¯åº—æ™šé¤ (ãƒªãƒãƒ†ã‚£/ã‚°ãƒªãƒ¼ãƒ³ãƒ†ãƒ©ã‚¹)ã€‚" },
                ]
            },
            {
                day: 5,
                date: "3/9 (ä¸€)",
                title: "ç™»åˆ¥æ£•ç†Šç‰§å ´ï¼Œæ˜Ÿé‡æ¸¡å‡æ‘",
                items: [
                    { time: "08:00", activity: "æ—©é¤", notes: "äº«ç”¨é£¯åº—æ—©é¤ã€‚" },
                    { time: "09:20", activity: "é€€æˆ¿ï¼Œå‰å¾€ç†Šç‰§å ´", notes: "å‘é£¯åº—é ç´„å…è²»æ¥é§è»Šè‡³çºœè»Šç«™ã€‚ç†Šç‰§å ´ 09:30 ç‡Ÿæ¥­ã€‚" },
                    { time: "09:30", activity: "ç™»åˆ¥æ£•ç†Šç‰§å ´", notes: "å«çºœè»Š $2600å††ã€‚è§€çœ‹é´¨å­ç«¶æŠ€ (10:00)ã€ç†Šè¡¨æ¼” (10:45)(11:45)ã€‚" },
                    { time: "12:00", activity: "åˆé¤:æŠ«è–©", notes: "PIZZERIA ASTRAé«˜è©•åƒ¹æŠ«è–©åº—ï¼Œé›»è©±è¨‚ä½12:30ã€‚ç©¶æ¥µã®ãƒãƒ«ã‚²ãƒªãƒ¼ã‚¿ç‘ªæ ¼éº—ç‰¹/å››ç¨®èµ·å¸èœ‚èœœ/ãƒšãƒ‘ãƒ­ãƒ‹ç¾©å¼é¦™è…¸/è±šãƒãƒ ãƒ“ã‚¹ãƒãƒ«ã‚¯ç«è…¿åŠç†Ÿè›‹ (6äººåƒ4å€‹Må°ºå¯¸) ã€ç‚¸é›ã€ä½æ¶ˆé£²æ–™X1(æ¨å•¤é…’)" },
                    { time: "13:30", activity: "æ­ä¹˜åŒ…è»Šå‰å¾€æ˜Ÿé‡", notes: "è»Šç¨‹ç´„ 2.5 å°æ™‚ï¼Œè²»ç”¨ $19300å††/è»Šã€‚" },
                    { time: "16:00", activity: "æŠµé”æ˜Ÿé‡ TOMAMU æ¸¡å‡æ‘", notes: "è¾¦ç†å…¥ä½ (RISONA)ã€‚" },
                    { time: "17:30", activity: "æ„›çµ²å†°åŸ (Ice Village)", notes: "æºœæ»‘æ¢¯ã€é…’å§ ($1500å††)ã€‚ææ—©é ç´„å†°ä¸Šæºœç´¢ (æˆ¿å®¢å…è²»)ã€‚" },
                    { time: "19:30", activity: "å†°åŸç…™ç«", notes: "æ¨è–¦åœ¨æºœå†°å°è§€çœ‹ï¼Œè¦–é‡ä½³ã€‚" },
                    { time: "20:00", activity: "æ™šé¤", notes: "ç¾é£Ÿè¡—ï¼š**GARAKU (æ¹¯å’–å“©)** æˆ– **æˆå‰æ€æ±—ç‡’è‚‰** (~22:00)ã€‚" },
                ]
            },
            {
                day: 6,
                date: "3/10 (äºŒ)",
                title: "æ˜Ÿé‡ï¼šé›ªåœ°æ´»å‹•èˆ‡è±ªè¯æ™šé¤",
                items: [
                    { time: "08:00", activity: "æ—©é¤ï¼šæ£®æ—é¤å»³", notes: "ç‡Ÿæ¥­æ™‚é–“ 06:30~10:00 (ä¾›é¤è‡³ 09:30)ã€‚" },
                    { time: "11:30", activity: "é¦™è•‰èˆ¹", notes: "3KM/15åˆ†/$2600å††ã€‚éœ€ 09:00 è‡³ GAO é ç´„ã€‚æˆ–åœ¨é›ªç›†å…¬åœ’ç©é›ªã€‚" },
                    { time: "12:30", activity: "åˆé¤ï¼šè¾²å ´å’–å•¡", notes: "GAO ä¸­å¿ƒæ—ï¼Œæ¨è–¦ä¹³é…ªè›‹ç³•ã€‚" },
                    { time: "13:30", activity: "é›ªä¸Šæ‘©æ‰˜è»Š", notes: "8KM/40åˆ†/$8000å††ã€‚12 äººè¼ªæµé«”é©—ã€‚" },
                    { time: "15:00", activity: "å¾®ç¬‘æµ·ç˜ (Mina-Mina Beach) + æº«æ³‰", notes: "å¯ç§Ÿå€Ÿ SUP/æ³³åœˆ (SUP $1200å††/30åˆ†, æ³³åœˆ $1500å††/ç„¡é™è¼ªæ›)ã€‚" },
                    { time: "18:30", activity: "æ™šé¤ï¼šHAL è‡ªåŠ©é¤ (èƒèŸ¹/é®­é­š)", notes: "éœ€é ç´„ï¼Œç”¨é¤æ™‚é–“ 90 åˆ†é˜ã€‚" },
                    { time: "20:30", activity: "æ°´ä¹‹æ•™æœƒ", notes: "21:25 æœ€çµ‚å…¥å ´ã€‚" },
                ]
            },
            {
                day: 7,
                date: "3/11 (ä¸‰)",
                title: "æ˜Ÿé‡ï¼šå¡ä¸è»Šèˆ‡æ»‘é›ªé«”é©—",
                items: [
                    { time: "07:30", activity: "æ—©é¤ï¼šSORA", notes: "Check-in æ™‚é ç´„ã€‚" },
                    { time: "09:00", activity: "éœ§å†°å¹³å° (çºœè»Š)", notes: "æˆ¿å®¢å¯å…è²»æ­ä¹˜ï¼Ÿ" },
                    { time: "10:30", activity: "å¡ä¸è»Š (é›ªåœ°)", notes: "90 åˆ†/$3500å††ã€‚éœ€ç¶²è·¯é ç´„ï¼Œåªæœ‰ 30 å°ã€‚" },
                    { time: "12:00", activity: "åˆé¤ï¼šãƒ“ã‚¹ã‚¿ãƒ¼ãƒ¬ (å°¼æ³Šçˆ¾å’–å“©)", notes: "æ•™ç·´æ¨è–¦é›è‚‰æ¹¯å’–å“©ï¼Œåœ¨æ¸¡å‡ä¸­å¿ƒé™„è¿‘ã€‚" },
                    { time: "13:00", activity: "ä¸‹åˆæ´»å‹•äºŒé¸ä¸€", notes: "â‘  æ»‘é›ª 4 å°æ™‚ (çºœè»Šåˆ¸ $7000å††)ï¼›â‘¡ é›ªåœ°æ•£æ­¥çƒ¤é¦™è…¸ (æˆ–å›é£¯åº— Lounge å–å’–å•¡)ã€‚" },
                    { time: "18:00", activity: "æ™šé¤ï¼šæ£®æ—é¤å»³", notes: "18:30 ä¹‹å¾Œäººæœƒå¾ˆå¤šï¼Œå»ºè­°ææ—©ã€‚â€»7:30-8:30 Risonareå¤§å»³æœ‰æ¼”å¥" },
                ]
            },
            {
                day: 8,
                date: "3/12 (å››)",
                title: "å‘Šåˆ¥åŒ—æµ·é“ï¼Œæº–å‚™å›å®¶",
                items: [
                    { time: "08:00", activity: "æ—©é¤ï¼šæ£®æ—é¤å»³", notes: "æœ€å¾Œä¸€æ¬¡äº«ç”¨é£¯åº—æ—©é¤ã€‚" },
                    { time: "10:00", activity: "é€€æˆ¿ä¸¦æ­ä¹˜æ¥é§è»Š", notes: "å‰å¾€æ©Ÿå ´ã€‚" },
                    { time: "10:30", activity: "å·´å£« 704 ä¾¿ (ç›´é”)", notes: "12:55 æŠµé”æ©Ÿå ´ï¼Œæœ€æ–¹ä¾¿ã€‚" },
                    { time: "15:20", activity: "é•·æ¦®èˆªç©ºèµ·é£› (EVAAIR)", notes: "ç­æ©Ÿå›ç¨‹ã€‚" },
                    { time: "19:05", activity: "æŠµé”å°ç£", notes: "æ—…é€”æ„‰å¿«ï¼" },
                ]
            }
        ];

        // ------------------------
        // æ ¸å¿ƒæ¸²æŸ“é‚è¼¯
        // ------------------------

        let currentDay = 1;
        let activeInfoTab = 'checklist'; // é è¨­é¸ä¸­æ¸…å–® Tab
        let isInfoPanelOpen = false; // é è¨­ç‚ºé—œé–‰

        /**
         * æ¸²æŸ“æŒ‡å®šæ—¥æœŸçš„è¡Œç¨‹å…§å®¹
         * @param {number} dayIndex - è¡Œç¨‹æ•¸æ“šé™£åˆ—çš„ç´¢å¼• (0-7)
         */
        function renderItinerary(dayIndex) {
            const dayData = itineraryData[dayIndex];
            const contentDiv = document.getElementById('itinerary-content');
            const titleElement = document.getElementById('current-day-title');
            const dateElement = document.getElementById('current-day-date');

            // æ›´æ–°æ¨™é¡Œå’Œæ—¥æœŸ
            titleElement.textContent = `Day ${dayData.day}: ${dayData.title}`;
            dateElement.textContent = `æ—¥æœŸ: ${dayData.date}`;

            // æ¸…ç©ºèˆŠå…§å®¹
            contentDiv.innerHTML = '';

            // æ¸²æŸ“æ™‚é–“è»¸
            dayData.items.forEach((item, index) => {
                const isLast = index === dayData.items.length - 1;

                const itemDiv = document.createElement('div');
                itemDiv.className = 'timeline-item';

                // æ™‚é–“é» (Dot)
                const dotSpan = document.createElement('span');
                dotSpan.className = `timeline-dot ${isLast ? 'last-dot' : ''}`;

                // è¡Œç¨‹å¡ç‰‡
                const cardDiv = document.createElement('div');
                // äº’å‹•æ•ˆæœï¼šhover æ”¾å¤§
                cardDiv.className = 'bg-white p-4 rounded-xl shadow-lg border border-gray-100 transform hover:scale-[1.01] transition-transform duration-200 ease-out';

                const timeP = document.createElement('p');
                timeP.className = 'text-lg font-extrabold text-[#89CFF0] mb-1 flex items-center';
                // æ™‚é˜ SVG
                timeP.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd" />
                                </svg>${item.time}`;

                const activityH = document.createElement('h3');
                activityH.className = 'text-xl font-bold text-gray-700';
                activityH.textContent = item.activity;

                if (item.notes) {
                    const notesP = document.createElement('p');
                    notesP.className = 'text-sm text-gray-600 mt-2 p-3 bg-[#FFF5F7] border-l-4 border-[#FFB7C5] rounded-r-xl';
                    notesP.textContent = `å‚™è¨»: ${item.notes}`;
                    cardDiv.appendChild(notesP);
                }

                cardDiv.prepend(activityH);
                cardDiv.prepend(timeP);
                itemDiv.appendChild(dotSpan);
                itemDiv.appendChild(cardDiv);
                contentDiv.appendChild(itemDiv);
            });

            // ç¢ºä¿æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /**
         * åˆ‡æ›é¡¯ç¤ºçš„å¤©æ•¸
         * @param {number} day - è¦åˆ‡æ›åˆ°çš„å¤©æ•¸ (1-8)
         */
        function showDay(day) {
            currentDay = day;
            const dayIndex = day - 1;

            // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„ active ç‹€æ…‹
            document.querySelectorAll('.day-tab').forEach(btn => {
                btn.classList.remove('active', 'bg-[#89CFF0]', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });

            // è¨­ç½®ç•¶å‰æŒ‰éˆ•ç‚º active ç‹€æ…‹
            const activeBtn = document.getElementById(`day-btn-${day}`);
            if (activeBtn) {
                activeBtn.classList.add('active', 'bg-[#89CFF0]', 'text-white');
                activeBtn.classList.remove('bg-gray-100', 'text-gray-700');

                // æ»¾å‹•é¸å–®ï¼Œè®“æ´»å‹•æŒ‰éˆ•ç½®ä¸­
                activeBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            }

            // æ¸²æŸ“æ–°çš„è¡Œç¨‹
            renderItinerary(dayIndex);
        }

        /**
         * åˆ‡æ›æ¸…å–®/é£¯åº— Tab é¡¯ç¤ºä¸¦è™•ç†æ‘ºç–Š/å±•é–‹
         * @param {string} tabId - 'checklist' æˆ– 'hotels'
         */
        function toggleInfoTab(tabId) {
            const panel = document.getElementById('info-panel');
            const tabs = document.querySelectorAll('.info-tab');
            const contents = document.querySelectorAll('.info-content');

            // 1. è™•ç†å…§å®¹åˆ‡æ›ï¼šå¦‚æœé»æ“Šçš„ä¸æ˜¯ç•¶å‰æ´»å‹•çš„ Tabï¼Œå‰‡åˆ‡æ›å…§å®¹
            if (activeInfoTab !== tabId) {
                activeInfoTab = tabId;
                // ç¢ºä¿åˆ‡æ›å…§å®¹æ™‚ï¼Œpanel.scrollHeight èƒ½è¨ˆç®—æ­£ç¢ºçš„æ–°å…§å®¹é«˜åº¦
                contents.forEach(content => {
                    if (content.id === `${activeInfoTab}-content`) {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });
                // åˆ‡æ›å…§å®¹å¾Œï¼Œå¼·åˆ¶å±•é–‹é¢æ¿ (å¦‚æœé¢æ¿æ˜¯é—œé–‰çš„)
                if (!isInfoPanelOpen) {
                    isInfoPanelOpen = true;
                }
            } else {
                // 2. è™•ç†æ‘ºç–Š/å±•é–‹ç‹€æ…‹ï¼šå¦‚æœé»æ“Šçš„æ˜¯ç•¶å‰æ´»å‹•çš„ Tabï¼Œå‰‡åˆ‡æ›é–‹å•Ÿç‹€æ…‹
                isInfoPanelOpen = !isInfoPanelOpen;
            }

            // 3. è™•ç†é¢æ¿é«˜åº¦ (æ‘ºç–Š/å±•é–‹)
            if (isInfoPanelOpen) {
                // å±•é–‹: è¨­ç½®ä¸€å€‹è¶³å¤ å¤§çš„é«˜åº¦å€¼ (scrollHeight æ˜¯å…§å®¹å¯¦éš›é«˜åº¦)
                // ä½¿ç”¨ setTimeout ç¢ºä¿ panel.scrollHeight è¨ˆç®—çš„æ˜¯æ–°å…§å®¹çš„é«˜åº¦
                setTimeout(() => {
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }, 0);
            } else {
                // æ‘ºç–Š: è¨­ç½®ç‚º 0
                panel.style.maxHeight = "0";
            }

            // 4. æ›´æ–° Tab å¤–è§€å’Œ Chevron ç®­é ­
            tabs.forEach(tab => {
                const currentTabId = tab.id.split('-')[1]; // 'checklist' or 'hotels'
                const isCurrentTab = currentTabId === activeInfoTab;
                const chevron = document.getElementById(`chevron-${currentTabId}`);

                // Tab å¤–è§€
                if (isCurrentTab) {
                    tab.classList.add('active-info-tab');
                    tab.classList.remove('inactive-info-tab');
                } else {
                    tab.classList.remove('active-info-tab');
                    tab.classList.add('inactive-info-tab');
                }

                // Chevron ç®­é ­æ–¹å‘ (åªæœ‰æ´»å‹•çš„ Tab ç®­é ­æœƒæ ¹æ“š isInfoPanelOpen æ”¹è®Š)
                if (chevron) {
                    if (isCurrentTab) {
                        if (isInfoPanelOpen) {
                            chevron.classList.remove('rotate-180'); // æŒ‡å‘ä¸‹ (é–‹å•Ÿ)
                            chevron.classList.add('rotate-0');
                        } else {
                            chevron.classList.add('rotate-180'); // æŒ‡å‘ä¸Š (é—œé–‰)
                            chevron.classList.remove('rotate-0');
                        }
                    } else {
                        // éæ´»å‹• Tab çš„ç®­é ­é è¨­æœä¸Š (è¡¨ç¤ºé»æ“Šæœƒåˆ‡æ›ä¸¦å±•é–‹)
                        chevron.classList.add('rotate-180');
                        chevron.classList.remove('rotate-0');
                    }
                }
            });
        }

        /**
         * å¾ localStorage è¼‰å…¥æ¸…å–®å‹¾é¸ç‹€æ…‹
         */
        function loadChecklistState() {
            const savedState = localStorage.getItem('checklistState');
            return savedState ? JSON.parse(savedState) : {};
        }

        /**
         * å„²å­˜æ¸…å–®å‹¾é¸ç‹€æ…‹åˆ° localStorage
         */
        function saveChecklistState(index, checked) {
            const state = loadChecklistState();
            state[index] = checked;
            localStorage.setItem('checklistState', JSON.stringify(state));
        }

        /**
         * æ¸²æŸ“æ”œå¸¶æ¸…å–®
         */
        function renderChecklist() {
            const container = document.getElementById('checklist-content');
            const savedState = loadChecklistState();

            container.innerHTML = `
                <h3 class="flex items-center text-sm font-bold text-amber-700 mb-2 border-b pb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    å‡ºç™¼å‰å‹¾é¸ç¢ºèª
                </h3>
                <div class="grid grid-cols-2 gap-2 text-sm text-gray-700">
                ${checklistData.map((item, index) => `
                    <label class="flex items-center space-x-2 bg-white p-2 rounded-xl cursor-pointer hover:bg-pink-50 border border-transparent hover:border-pink-200 transition-all">
                        <input type="checkbox" 
                               class="form-checkbox text-[#FFB7C5] rounded focus:ring-pink-300" 
                               data-index="${index}"
                               ${savedState[index] ? 'checked' : ''}>
                        <span>${item}</span>
                    </label>
                `).join('')}
                </div>
            `;

            // ç‚ºæ‰€æœ‰ checkbox æ·»åŠ äº‹ä»¶ç›£è½å™¨
            container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    const index = this.getAttribute('data-index');
                    saveChecklistState(index, this.checked);
                });
            });
        }

        /**
         * æ¸²æŸ“é£¯åº—è³‡è¨Š
         */
        function renderHotels() {
            const container = document.getElementById('hotels-content');
            container.innerHTML = `
                <h3 class="flex items-center text-sm font-bold text-amber-700 mb-2 border-b pb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                    </svg>
                    ä½å®¿åœ°é»èˆ‡æ—¥æœŸ
                </h3>
                <div class="space-y-3">
                ${hotelData.map(hotel => `
                    <div class="p-4 bg-white rounded-xl shadow-sm border border-blue-100 hover:shadow-md transition-all">
                        <p class="text-base font-bold text-[#89CFF0] hover:text-blue-400 transition duration-150">
                            <a href="${hotel.mapLink}" target="_blank" rel="noopener noreferrer" class="flex items-center">
                                ${hotel.name}
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                </svg>
                            </a>
                        </p>
                        <p class="text-sm text-gray-600 mt-1 flex items-center">
                            <span class="mr-1">ğŸ“…</span> å…¥ä½æ—¥æœŸ: ${hotel.dates}
                        </p>
                        <p class="text-xs text-gray-400 mt-1 flex items-center">
                            <span class="mr-1">ğŸ“</span> åœ°é»: ${hotel.location}
                        </p>
                    </div>
                `).join('')}
                </div>
            `;
        }

        /**
         * æ¸²æŸ“æ—…è¡Œå°æé†’
         */
        function renderTips() {
            const container = document.getElementById('tips-content');
            container.innerHTML = `
                <section class="p-4 bg-yellow-50 rounded-xl border border-yellow-200 relative overflow-hidden">
                    <div class="absolute -right-4 -top-4 text-6xl opacity-10 rotate-12">ğŸ°</div>
                    <h3 class="flex items-center text-sm font-bold text-yellow-700 mb-2 border-b border-yellow-200 pb-1">
                        <span class="text-lg mr-1">âœ¨</span>
                        é‡è¦æé†’
                    </h3>
                    <ul class="text-sm text-gray-700 list-disc pl-5 space-y-2 marker:text-yellow-400">
                        <li>ä¸€å®šè¦ä¿æ—…å¹³éšª!!æœ‰é›ªåœ°æ´»å‹•ã€åœ°æ»‘å±éšªã€é£›æ©Ÿå¯èƒ½è¢«å¤§é›ªå»¶èª¤</li>
                        <li>å…¨ç¨‹æœ‰æ³¡æ¹¯+ç©æ°´è¡Œç¨‹ï¼Œå¥³ç”Ÿä¸€å®šè¦é¿é–‹ç¶“æœŸã€‚</li>
                        <li>æœè£å»ºè­°: å®¤å…§å¾ˆç†±ï¼Œä¸è¦ç©¿å¥—é ­è¡£ ã€‚æ»‘é›ªæ™‚é¿å…ç©¿ç™¼ç†±è¡£ ã€‚</li>
                    </ul>
                </section>
            `;
        }


        /**
         * åˆå§‹åŒ–å¤©æ•¸é¸æ“‡æŒ‰éˆ•
         */
        function initializeTabs() {
            const tabsContainer = document.getElementById('day-tabs');
            itineraryData.forEach(dayData => {
                const button = document.createElement('button');
                button.id = `day-btn-${dayData.day}`;
                button.className = 'day-tab bg-gray-100 text-gray-700';
                // é¡¯ç¤º Day X (æ˜ŸæœŸY)
                button.textContent = `Day ${dayData.day} (${dayData.date.split('(')[1].replace(')', '')})`;
                button.onclick = () => showDay(dayData.day);
                tabsContainer.appendChild(button);
            });

            // æ¸²æŸ“è¼”åŠ©è³‡è¨Š
            renderChecklist();
            renderHotels();
            renderTips();

            // é è¨­ç‹€æ…‹ï¼šé¢æ¿ä¿æŒé—œé–‰ (max-height: 0)ï¼Œåªéœ€ç¢ºä¿ 'checklist' å…§å®¹è¢«è¼‰å…¥
            // ä¸éœ€è¦å‘¼å« toggleInfoTabï¼Œå› ç‚º isInfoPanelOpen å·²ç¶“æ˜¯ false

            // é è¨­é¡¯ç¤ºç¬¬ä¸€å¤©
            showDay(currentDay);
        }

        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œåˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initializeTabs();

            // ç›£è½æ»¾å‹•äº‹ä»¶ï¼Œæ§åˆ¶å›åˆ°é ‚éƒ¨æŒ‰éˆ•çš„é¡¯ç¤º
            const backToTopBtn = document.getElementById('backToTopBtn');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
        });
    </script>
</body>


</html>




